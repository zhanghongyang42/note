# 怎么开始

问题--需求--设计--程序

问题--调研业务（持续在整个链条中）--需求（做什么事）--知识--概要设计（结合业务和知识选择大概的方向）--详细设计（具体怎么落地/每步投入人员时间/具体产生效果）--汇报--开始



# 业务调研

现在搜索都用了哪些因子。

![image-20220112190601230](picture/image-20220112190601230.png)

```
搜索时，是 根据关键词关联到商品品类 还是 根据用户关联到商品品类？
根据用户，就默认该用户每次搜索的感兴趣的商品品类是大致不变的几种。问题是无行为用户无法确定商品品类。
根据关键词，问题是长尾query过多，新出现的query也要可以处理。
```

```
课题组名称拿下来？
拿下来了，可以探索。应该拿课题号名称
```

```
研究方向有多少个？
用户10万个，活跃用户2-3万，研究所4000个，研究方向更少。
```

```
商品数量，商家数量？
商品数量过亿，商家数量2万4
```

```
是否存在一个课题号名称，多个研究方向？
课题号名称有空值，通过课题组名称，找研究方向只能是大概的参考。
```

```
商品唯一字段进一步理解？
spu：品牌+货号
sku：品牌+货号+规格
可以探究下 id  和 名称+品牌+货号+规格的关系
```

```
现有搜索步骤？
规则通过 es 脚本写入，es查询出结果。
```

```
商品类目情况？
商品二级类目比较准确，但是存在大量商品被分到通用类目的情况。
```

```
会员主账号和子账号的关系
会员主账号和子账号是两个人，分别买东西，就是管理关系。
```

```
一个**研究所**下有多个**会员**，有多个**资产处**管理会员。
```

```
课题组是什么？课题号是什么
一个会员属于一个课题组，有多个课题号
```

```
会员侧
会员子账号，会员主账号，课题号，课题组，资产处，研究所
```

```
商品侧
商品，服务，品牌馆，店铺，线上商家、线下商家
```

```
现在搜索情况
可以选择分类，品牌，商家、规格等条件进行筛选。
可以根据销量、价格、上架时间等及进行排序。
对购买过的商品有标识。
搜索历史下拉可见。
```

```
商品中的危化品，元器件，技术服务，试剂耗材怎么理解？
都是商品，统一的商品字段。这四类是用户最常购买的的四大类。
```

```
CAS号是什么东西？
化学试剂的一个编号
```

```
品牌馆是怎么回事？
品牌馆是将同品牌的商品进行聚合，形成品牌馆，方便品牌工厂
```

```
配送区和省市区的关系？
配送区是业务上的一个概念，一个配送去可以配多个省市区，配送区之间包含的省市区可能重合。
```

```
一个商家可以开几个店铺？
一个商家可以开多个店铺，但是现在只有一个店铺
```

```
订单--多次 发货单--多次 验货单--一次结算单--付款单
				售后验货单
				应收验货单
							技术服务费结算单
```

```
一个商家可以多个配送区吗？

```

数仓和数据中台怎么融合？



```
我们的采购单位包括
科研院所

```





















# 需求分析

用机器学习的方法，提升搜索或者推荐的效果，使用户提高效率，提高对我们平台的满意率。同时也使商家更好的卖出商品。

其中，喀斯玛商城80% 的客户购买是在搜索场景下完成，所以我们应该首先优化搜索体验。

现在的用户80%搜索完都可以通过。

最关注的用户是在我们平台产生购买行为的用户，没有产生行为的用户能提高就提高。

我们是B2B的商城，用户的研究方向非常重要，可以根据一些属性，把用户在一些情况下反向看成商品。



推荐系统：召回（各种召回方法），排序

搜索系统：query理解（分词，纠错，同义词，多义词，类目预测、term紧密性重要性...），召回（倒排索引+bool检索+相似性计算），排序



推荐可以解决的问题：

1.现在的采购推荐我们可以基于多种方式进行个性化推荐。

2.类目推荐可以推给客户他更感兴趣的类目，通过购买行为和用户其他特征判定。

3.商品详情页可以做商品打包推荐。



搜索需要解决的问题：

1.硫酸-硫酸铜/大米-大米粒/酒精-酒精灯 ，这种长得很像，但是词义不同的，可能在搜索结果中影响用户。

```
nlp用大量语料来训练。

根据商品品类来区别。
标签匹配。
query预测商品类目。
根据客户曾经的行为来排序（商品品类，用户研究方向属性）。
图算法。
知识图谱。
```

2.长尾物品搜不出来，因为每次搜索出来的顺序是基本固定的，所以很多商品展示不出来。

```
这块主要应该是商家进行seo优化。
我们只能基于用户商品内容，调整排序，但是用户和商品有什么内容（用户属性，商品属性，标签）可以让长尾物品出来。
可以尝试排序算法调整一下。预测 什么特征的用户 对 什么特征的商品 可能点击。
```

3.有一些搜索结果返回数量为0，能不能返回一些可能相关的，或者用户可能感兴趣的。

```
观察到玻璃漏斗搜不到，但是玻璃可以搜到，改善分词。
或者直接展示推荐结果
```

4.现在的搜索都是通过关键词找商品，根据商品的一些维度进行排序，可不可以加一些用户维度进行排序。

```
这个就是搜索的排序。可以把现有默认排序，换成综合排序。
这个我们可以对2000个结果都进行排序。
排序特征也找一下关键的特征。
```

5.猜你想搜，直接把搜索词提供给用户。

```
可以采用搜索框底纹的形式展示，具体方法需要探索。
匹配用户和搜索词。
推其他相似用户的搜索词，
```



**就是要做搜索的排序**

**还要做推荐系统**











































