> 模式发现主要分两个步骤:
>  - 训练集的模式发现; 
>  - 对测试集根据发现的模式进行匹配聚类;

#### Step_1: 模式发现 (*function: train_round_i()*)  
##### 1.1: 数据清洗(*function: df_clean()*)  
- 从全量日志样本中抽取一部分样本做训练(若低于全量日志1w条,建议直接训练;若多于,则抽取1w条进行训练);
- 将日志内容为空的样本移除;
- 将数据中的数字/英文字母拆分开,并以空格作为分隔;

##### 1.2: 语料提取(*function:text_corpus()*, *vari_used()*)  
- 将各日志样本*按标点等特殊字符*拆分成块,组成大的短语list;
- 对list的短语进行词频统计,选取高频词(参数min_occur_times),作为特征;

##### 1.3: 日志模板提取(*function: df_to_pattern()*, *train_pattern_info()*) 
- 将日志样本*按标点等特殊字符*拆分成块,比对*1.2中的特征,若某特征出现在此样本中,则根据其出现在样本中的位置进行标记次序(例如:某特征A,与该样本的第6个短语块一致,则该特征在此样本中取值为6);
- 再加入一个特征,即pattern_add_len,用以表示所有特征在序列中出现的位置信息及样本拆分后的总长度;
- 以上即为一条日志提取出的模板信息,pattern;
- 对样本的pattern进行频率统计,选取出现频次较高的模式(参数min_cover_time)作为模板;

-----
#### Step_2: 模式匹配 (*test_round_i_index()*)
- 加载Step_1训练时用到的参数;
- 对全量数据进行清洗(同Step_1);
- 对训练时选出的模板(pattern_selected)进行unique,并编号;
- 对test集的各行样本进行拆分,并重复Step_1中的特征匹配步骤,并与训练集选出的pattern进行比较,若匹配上,则index标记为模板序号,若未匹配上,则标记为0;
- 输出index序列
